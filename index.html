<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master of the Adventurers' Guild</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="text-light">

    <header class="container-fluid py-3 border-bottom border-warning bg-dark">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="text-warning mb-0">Master of the Adventurers' Guild</h4>
            <div class="h5 mb-0">
                <span class="badge bg-warning text-dark">Ouro: <span id="ouro">100</span></span>
                <span class="badge bg-info">Dia: <span id="dia">1</span></span>
            </div>
            <div>
                <button onclick="alternarTempoReal()" id="btn-tempo" class="btn btn-outline-info btn-sm">Ativar Tempo
                    Real</button>
                <button onclick="avancarTurno()" class="btn btn-warning btn-sm fw-bold">Passar Dia</button>
            </div>

            <div class="save-controls mt-3">
                <button class="btn btn-sm btn-outline-secondary" onclick="exportarSave()">Baixar Backup</button>
                <label class="btn btn-sm btn-outline-secondary mb-0">
                    Carregar Arquivo <input type="file" hidden onchange="importarSave(event)">
                </label>
                <button class="btn btn-sm btn-outline-danger" onclick="resetarJogo()">Reset Total</button>
            </div>

        </div>
    </header>

    <main class="container-fluid py-4">
        <div class="row g-3">
            <div class="col-md-3">
                <div class="card bg-dark text-white border-secondary shadow mb-4">
                    <div class="card-header bg-dark border-warning text-warning h6">Taverna</div>
                    <div class="card-body bg-dark">
                        <small class="text-warning">Nível da Taverna: <b id="lvl-taverna">1</b></small><br>
                        <small>Vagas: <b id="vagas-ocupadas">0</b> / <b id="vagas-totais">5</b></small>
                        <button onclick="melhorarTaverna()" class="btn btn-outline-warning btn-sm w-100 mt-2"
                            id="btn-upgrade">
                            Melhorar Taverna (50 Ouro)
                        </button>
                    </div>
                </div>
                <div class="card bg-dark text-white border-secondary shadow mb-4">
                    <div class="card-header bg-dark border-warning text-warning h6">Mercenários contratados</div>
                    <div class="card-body">
                        <div id="lista-mercenarios" class="overflow-auto" style="max-height: 60vh;">
                        </div>
                    </div>
                </div>
                <div class="card bg-dark text-white border-secondary shadow mb-4">
                    <div class="card-header bg-dark border-warning text-warning h6">Mercenários do dia</div>
                    <div class="card-body">
                        <div id="taverna-candidatos">
                        </div>
                    </div>
                    <div class="card-body pt-0">
                        <button class="btn btn-outline-warning btn-sm w-100" onclick="renovarCandidatos()">
                            Atualizar Mercenários (10 Ouro)
                        </button>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card bg-dark border-secondary shadow mb-4">
                    <div class="card-header bg-dark border-warning text-warning h6">Missões</div>
                    <div class="card-body bg-dark">
                        <div>
                            <ul class="nav nav-tabs card-header-tabs" id="tabRanks" role="tablist">
                                <li class="nav-item"><button class="nav-link active text-warning" data-bs-toggle="tab"
                                        data-bs-target="#rank-bronze">Bronze</button></li>
                                <li class="nav-item"><button class="nav-link text-light" data-bs-toggle="tab"
                                        data-bs-target="#rank-prata">Prata</button></li>
                                <li class="nav-item"><button class="nav-link text-warning-emphasis" data-bs-toggle="tab"
                                        data-bs-target="#rank-ouro">Ouro</button></li>
                            </ul>
                        </div>
                        <div class="tab-pane fade show active p-3" id="rank-bronze"></div>
                        <div class="tab-pane fade p-3" id="rank-prata"></div>
                        <div class="tab-pane fade p-3" id="rank-ouro"></div>
                    </div>
                </div>

                <div class="card bg-dark border-secondary shadow">
                    <div class="card-header bg-dark border-warning text-warning h6">Missões em Andamento</div>
                    <div class="card-body" id="missoes-ativas">
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card bg-dark text-white border-secondary shadow">
                    <div class="card-header bg-dark border-warning text-warning h6">Registros da Guilda</div>
                    <div class="card-body">
                        <div id="log" class="overflow-auto"
                            style="height: 70vh; font-family: monospace; font-size: 0.85rem;">
                        </div>
                    </div>
                </div>
                <div class="card bg-dark border-secondary shadow mt-4">
                    <div class="card-header bg-dark border-warning text-warning h6">Histórico de Expedições <small
                            id="total-missoes" class="text-muted"></small></div>
                    <div class="card-body overflow-auto" id="lista-historico" style="max-height: 300px;">
                    </div>
                </div>
            </div>
        </div>
    </main>

    <template id="tpl-mercenario">
        <div class="card bg-dark mb-2 border-secondary text-white shadow-sm">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start mb-1">
                    <strong class="m-nome text-warning"></strong>
                    <small class="text-secondary m-classe" style="font-size: 0.7rem;"></small>
                    <span class="badge bg-secondary m-rank" style="font-size: 0.6rem;"></span>
                    <button class="btn btn-outline-danger btn-sm py-0 px-2 btn-dispensar">&times;</button>
                </div>
                <div class="d-flex text-center mb-2 bg-black border-secondary py-1" style="font-size: 0.7rem;">
                    <div class="col-3 text-danger" title="Força">For: <b class="m-str"></b></div>
                    <div class="col-3 text-info" title="Agilidade">Agi: <b class="m-agi"></b></div>
                    <div class="col-3 text-success" title="Resistência">Res: <b class="m-end"></b></div>
                    <div class="col-3 text-primary" title="Inteligência">Int: <b class="m-int"></b></div>
                </div>
                <div class="d-flex align-items-center justify-content-between my-1" style="font-size: 0.65rem;">
                    <span class="text-secondary m-status"></span>
                    <span class="text-warning">XP: <span class="m-xp-texto"></span></span>
                </div>
                <div class="progress" style="height: 4px; background-color: #1a1a1a;">
                    <div class="progress-bar bg-warning m-xp-barra" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </template>

    <template id="tpl-candidato">
        <div class="card bg-dark mb-2 border-secondary text-white shadow-sm">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start mb-1">
                    <strong class="c-nome text-warning"></strong>
                    <small class="text-secondary c-classe" style="font-size: 0.7rem;"></small>
                    <span class="badge bg-primary c-poder" title="Poder Total"></span>
                </div>
                <div class="d-flex text-center mb-2 bg-black border-secondary py-1" style="font-size: 0.7rem;">
                    <div class="col text-danger">For: <span class="c-str"></span></div>
                    <div class="col text-info">Agi: <span class="c-agi"></span></div>
                    <div class="col text-success">Res: <span class="c-end"></span></div>
                    <div class="col text-primary">Int: <span class="c-int"></span></div>
                </div>
                <button class="btn btn-outline-primary btn-sm w-100 py-0 mt-1 c-btn-contratar"
                    style="font-size: 0.8rem;"></button>
            </div>
        </div>
    </template>

    <template id="tpl-missao">
        <div class="card bg-dark text-white border-secondary mb-3 shadow-sm">
            <div class="card-body p-3">
                <div class="d-flex justify-content-between">
                    <h6 class="text-warning missao-nome"></h6>
                    <span class="badge bg-outline-light border missao-dif"></span>
                </div>
                <p class="small mb-2 text-secondary">Recompensa: <b class="missao-rec"></b> | Tempo: <span
                        class="missao-tempo"></span> dias</p>
                <div class="form-group mb-3">
                    <label class="small text-info fw-bold">Designar Equipe:</label>
                    <select multiple
                        class="form-select form-select-sm bg-secondary text-white border-0 missao-select"></select>
                </div>
                <div class="alert alert-dark mb-2 missao-previa" style="font-size: 0.75rem;"></div>
                <button class="btn btn-warning btn-sm w-100 fw-bold btn-enviar">Lançar Expedição</button>
            </div>
        </div>
    </template>

    <template id="tpl-ativa">
        <div class="mb-2 bg-secondary rounded shadow-sm">
            <div class="d-flex justify-content-between small">
                <span class="fw-bold a-nome text-white"></span>
                <span class="badge bg-dark a-tempo"></span>
            </div>
            <div class="progress mt-1" style="height: 6px;">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-info a-barra"></div>
            </div>
        </div>
    </template>


    <template id="tpl-log">
        <div class="log-entry mb-1 border-start border-3 ps-2 py-1 shadow-sm">
            <small class="text-secondary d-block l-data" style="font-size: 0.7rem;"></small>
            <span class="l-texto text-light"></span>
        </div>
    </template>

    <template id="tpl-historico">
        <div class="historico-entry mb-2 border-bottom border-secondary pb-2">
            <div class="d-flex justify-content-between align-items-center mb-1">
                <strong class="h-nome small text-warning"></strong>
                <span class="badge h-resultado" style="font-size: 0.6rem;"></span>
            </div>
            <div class="d-flex justify-content-between small text-secondary">
                <span class="h-grupo" style="font-size: 0.7rem;"></span>
                <span class="h-lucro text-success fw-bold"></span>
            </div>
        </div>
    </template>

    <script src="js/dados.js"></script>
    <script src="js/engine.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>