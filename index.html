<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master of the Adventurers' Guild</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="text-light">

    <nav class="menu-principal">
        <button onclick="navegar('guilda')" class="btn-nav" id="btn-guilda">üè∞ Guilda</button>
        <button onclick="navegar('missoes')" class="btn-nav" id="btn-missoes">üìú Miss√µes</button>
        <button onclick="navegar('escritorio')" class="btn-nav" id="btn-escritorio">‚úçÔ∏è Escrit√≥rio</button>
    </nav>

    <header id="game-header" class="container-fluid py-3 border-bottom border-warning bg-dark sticky-top">
        <div class="container">
            <div class="row g-3 align-items-center">
                <div class="col-12 col-md-4 text-center text-md-start">
                    <h4 class="text-warning mb-0">Master of the Adventurers' Guild</h4>
                </div>

                <div class="col-12 col-md-4">
                    <div class="d-flex justify-content-center gap-2">
                        <span class="badge bg-warning text-dark p-2">Ouro: <span id="ouro">100</span></span>
                        <span class="badge bg-info p-2">Dia: <span id="dia">1</span></span>
                    </div>
                </div>

                <div class="col-12 col-md-4">
                    <div class="d-flex justify-content-center justify-content-md-end gap-2">
                        <button onclick="alternarTempoReal()" id="btn-tempo" class="btn btn-outline-info btn-sm">Tempo
                            Real</button>
                        <button onclick="avancarTurno()" class="btn btn-warning btn-sm fw-bold">Passar Dia</button>

                        <div class="dropdown">
                            <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button"
                                data-bs-toggle="dropdown">
                                ‚öôÔ∏è
                            </button>
                            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end shadow">
                                <li><a class="dropdown-item" href="#" onclick="exportarSave()">Baixar Backup</a></li>
                                <li><label class="dropdown-item" style="cursor:pointer">Carregar Arquivo <input
                                            type="file" hidden onchange="importarSave(event)"></label></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item text-danger" href="#" onclick="resetarJogo()">Reset
                                        Total</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main id="game-container" class="container py-4">
        <section id="tela-guilda" class="tela-conteudo">
            <div class="card bg-dark text-white border-secondary shadow mb-4">
                <div class="card-header bg-dark border-warning text-warning h6">Taverna</div>
                <div class="card-body bg-dark">
                    <small class="text-warning">N√≠vel da Taverna: <b id="lvl-taverna">1</b></small><br>
                    <small>Vagas: <b id="vagas-ocupadas">0</b> / <b id="vagas-totais">5</b></small>
                    <button onclick="melhorarTaverna()" class="btn btn-outline-warning btn-sm w-100 mt-2"
                        id="btn-upgrade">
                        Melhorar Taverna (50 Ouro)
                    </button>
                </div>
            </div>
            <div class="card bg-dark text-white border-secondary shadow mb-4">
                <div class="card-header bg-dark border-warning text-warning h6">Mercen√°rios contratados</div>
                <div class="card-body">
                    <div id="lista-mercenarios" class="overflow-auto" style="max-height: 60vh;">
                    </div>
                </div>
            </div>
            <div class="card bg-dark text-white border-secondary shadow mb-4">
                <div class="card-header bg-dark border-warning text-warning h6">Mercen√°rios do dia</div>
                <div class="card-body">
                    <div id="taverna-candidatos">
                    </div>
                </div>
                <div class="card-body pt-0">
                    <button class="btn btn-outline-warning btn-sm w-100" onclick="renovarCandidatos()">
                        Atualizar Mercen√°rios (10 Ouro)
                    </button>
                </div>
            </div>
        </section>

        <section id="tela-missoes" class="tela-conteudo" style="display: none;">
            <div class="card bg-dark border-secondary shadow mb-4">
                <div
                    class="card-header bg-dark border-warning text-warning h6 d-flex justify-content-between align-items-center">
                    Quadro de Miss√µes
                    <small class="text-muted" style="font-size: 0.7rem;">Ordenado por Dificuldade</small>
                </div>
                <div class="card-body bg-dark">
                    <div id="container-lista-missoes" class="row g-3">
                    </div>
                </div>
            </div>
            <div class="card bg-dark border-secondary shadow">
                <div class="card-header bg-dark border-warning text-warning h6">Miss√µes em Andamento</div>
                <div class="card-body" id="missoes-ativas"></div>
            </div>
        </section>

        <section id="tela-escritorio" class="tela-conteudo" style="display: none;">
            <div class="card bg-dark text-white border-secondary shadow">
                <div class="card-header bg-dark border-warning text-warning h6">Registros da Guilda</div>
                <div class="card-body">
                    <div id="log" class="overflow-auto"
                        style="height: 70vh; font-family: monospace; font-size: 0.85rem;">
                    </div>
                </div>
            </div>
            <div class="card bg-dark border-secondary shadow mt-4">
                <div class="card-header bg-dark border-warning text-warning h6">Hist√≥rico de Expedi√ß√µes <small
                        id="total-missoes" class="text-muted"></small></div>
                <div class="card-body overflow-auto" id="lista-historico" style="max-height: 300px;">
                </div>
            </div>
        </section>
    </main>

    <template id="tpl-mercenario">
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card bg-dark mb-2 border-secondary text-white shadow-sm">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-1">
                        <strong class="m-nome text-warning"></strong>
                        <small class="text-secondary m-classe" style="font-size: 0.7rem;"></small>
                        <span class="badge bg-secondary m-rank" style="font-size: 0.6rem;"></span>
                        <button class="btn btn-outline-danger btn-sm py-0 px-2 btn-dispensar">&times;</button>
                    </div>
                    <div class="d-flex text-center mb-2 bg-black border-secondary py-1" style="font-size: 0.7rem;">
                        <div class="col-3 text-danger" title="For√ßa">For: <b class="m-str"></b></div>
                        <div class="col-3 text-info" title="Agilidade">Agi: <b class="m-agi"></b></div>
                        <div class="col-3 text-success" title="Resist√™ncia">Res: <b class="m-end"></b></div>
                        <div class="col-3 text-primary" title="Intelig√™ncia">Int: <b class="m-int"></b></div>
                    </div>
                    <div class="d-flex align-items-center justify-content-between my-1" style="font-size: 0.65rem;">
                        <span class="text-secondary m-status"></span>
                        <span class="text-warning">XP: <span class="m-xp-texto"></span></span>
                    </div>
                    <div class="progress" style="height: 4px; background-color: #1a1a1a;">
                        <div class="progress-bar bg-warning m-xp-barra" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="tpl-candidato">
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card bg-dark mb-2 border-secondary text-white shadow-sm">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-1">
                        <strong class="c-nome text-warning"></strong>
                        <small class="text-secondary c-classe" style="font-size: 0.7rem;"></small>
                        <span class="badge bg-primary c-poder" title="Poder Total"></span>
                    </div>
                    <div class="d-flex text-center mb-2 bg-black border-secondary py-1" style="font-size: 0.7rem;">
                        <div class="col text-danger">For: <span class="c-str"></span></div>
                        <div class="col text-info">Agi: <span class="c-agi"></span></div>
                        <div class="col text-success">Res: <span class="c-end"></span></div>
                        <div class="col text-primary">Int: <span class="c-int"></span></div>
                    </div>
                    <button class="btn btn-outline-primary btn-sm w-100 py-0 mt-1 c-btn-contratar"
                        style="font-size: 0.8rem;"></button>
                </div>
            </div>
        </div>
    </template>

    <template id="tpl-missao">
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card bg-dark text-white border-secondary mb-3 shadow-sm">
                <div class="card-body p-3">
                    <div class="d-flex justify-content-between">
                        <h6 class="text-warning missao-nome"></h6>
                        <span class="badge bg-outline-light border missao-dif"></span>
                    </div>
                    <p class="small mb-2 text-secondary">Recompensa: <b class="missao-rec"></b> | Tempo: <span
                            class="missao-tempo"></span> dias</p>
                    <div class="form-group mb-3">
                        <label class="small text-info fw-bold">Designar Equipe:</label>
                        <div class="missao-grupo-selecao d-flex flex-wrap gap-1 mb-2" id="grupo-{{id}}"></div>
                    </div>
                    <div class="alert alert-dark mb-2 missao-previa" style="font-size: 0.75rem;"></div>
                    <button class="btn btn-warning btn-sm w-100 fw-bold btn-enviar">Lan√ßar Expedi√ß√£o</button>
                </div>
            </div>
        </div>
    </template>

    <template id="tpl-ativa">
        <div class="mb-2 bg-secondary rounded shadow-sm">
            <div class="d-flex justify-content-between small">
                <span class="fw-bold a-nome text-white"></span>
                <span class="badge bg-dark a-tempo"></span>
            </div>
            <div class="progress mt-1" style="height: 6px;">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-info a-barra"></div>
            </div>
        </div>
    </template>


    <template id="tpl-log">
        <div class="log-entry mb-1 border-start border-3 ps-2 py-1 shadow-sm">
            <small class="text-secondary d-block l-data" style="font-size: 0.7rem;"></small>
            <span class="l-texto text-light"></span>
        </div>
    </template>

    <template id="tpl-historico">
        <div class="historico-entry mb-2 border-bottom border-secondary pb-2">
            <div class="d-flex justify-content-between align-items-center mb-1">
                <strong class="h-nome small text-warning"></strong>
                <span class="badge h-resultado" style="font-size: 0.6rem;"></span>
            </div>
            <div class="d-flex justify-content-between small text-secondary">
                <span class="h-grupo" style="font-size: 0.7rem;"></span>
                <span class="h-lucro text-success fw-bold"></span>
            </div>
        </div>
    </template>

    <script src="js/dados.js"></script>
    <script src="js/engine.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>